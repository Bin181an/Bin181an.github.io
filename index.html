<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenRouter æ¨¡å‹ä»·æ ¼å¯¹æ¯”å·¥å…· | AI æ¨¡å‹æˆæœ¬è®¡ç®—å™¨</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="å¯¹æ¯” OpenRouter ä¸Š 400+ AI æ¨¡å‹çš„ä»·æ ¼ã€‚GPT-4ã€Claudeã€Llama ç­‰æ¨¡å‹çš„å®æ—¶ä»·æ ¼æ•°æ®ã€‚æ¯ 12 å°æ—¶æ›´æ–°ä¸€æ¬¡ï¼Œæ˜¾ç¤ºæ¯ç™¾ä¸‡ tokens çš„æç¤ºå’Œå®Œæˆæˆæœ¬ã€‚">
  <meta name="keywords" content="OpenRouter ä»·æ ¼, AI æ¨¡å‹æˆæœ¬, LLM ä»·æ ¼å¯¹æ¯”, GPT-4 ä»·æ ¼, Claude ä»·æ ¼, AI API æˆæœ¬, æ¨¡å‹å¯¹æ¯”å·¥å…·, token ä»·æ ¼è®¡ç®—å™¨, è¯­è¨€æ¨¡å‹æˆæœ¬">
  <meta name="author" content="OpenRouterList">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://openrouterlist.jvrck.com/">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="OpenRouter æ¨¡å‹ä»·æ ¼å¯¹æ¯”å·¥å…·">
  <meta property="og:description" content="å¯¹æ¯” 400+ AI æ¨¡å‹çš„å®æ—¶ä»·æ ¼ã€‚é€šè¿‡æ›´æ–°çš„ä»·æ ¼æ•°æ®æ‰¾åˆ°æœ€é€‚åˆæ‚¨éœ€æ±‚çš„ç»æµé«˜æ•ˆ LLMã€‚">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://openrouterlist.jvrck.com/">
  <meta property="og:site_name" content="OpenRouterList">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="OpenRouter æ¨¡å‹ä»·æ ¼å¯¹æ¯”">
  <meta name="twitter:description" content="å¯¹æ¯” 400+ AI æ¨¡å‹çš„ä»·æ ¼ã€‚å®æ—¶æ•°æ®æ¯ 12 å°æ—¶æ›´æ–°ä¸€æ¬¡ã€‚">
  <meta name="twitter:url" content="https://openrouterlist.jvrck.com/">
  
  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "OpenRouter æ¨¡å‹ä»·æ ¼å¯¹æ¯”",
    "description": "å¯¹æ¯”å’Œåˆ†æé€šè¿‡ OpenRouter API å¯ç”¨çš„ AI è¯­è¨€æ¨¡å‹ä»·æ ¼",
    "url": "https://openrouterlist.jvrck.com/",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "All",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "creator": {
      "@type": "Organization",
      "name": "OpenRouterList"
    }
  }
  </script>

  <!-- Include DataTables CSS -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.7.1/css/buttons.dataTables.min.css">
  
  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Include DataTables JS -->
  <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.flash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.print.min.js"></script>

  <style>
    :root {
      --bg-primary: #ffffff;
      --bg-secondary: #f9f9f9;
      --bg-hover: #f0f0f0;
      --text-primary: #333333;
      --text-secondary: #666666;
      --border-color: #dddddd;
      --header-bg: #2563eb;
      --header-text: white;
      --link-color: #0066cc;
      --favorite-color: #ffa500;
      --card-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    [data-theme="dark"] {
      --bg-primary: #1e1e1e;
      --bg-secondary: #2d2d2d;
      --bg-hover: #404040;
      --text-primary: #e8e8e8;
      --text-secondary: #b8b8b8;
      --border-color: #4a4a4a;
      --header-bg: #3b82f6;
      --header-text: #ffffff;
      --link-color: #70b8ff;
      --favorite-color: #ffd700;
      --card-shadow: 0 2px 4px rgba(0,0,0,0.4);
    }

    * {
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, "Microsoft YaHei", "å¾®è½¯é›…é»‘", sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 20px;
      gap: 15px;
    }

    h1 {
      color: var(--text-primary);
      margin: 0;
    }

    .controls {
      display: flex;
      gap: 15px;
      align-items: center;
      flex-wrap: wrap;
    }

    .theme-toggle {
      display: flex;
      gap: 5px;
      background-color: var(--bg-secondary);
      border-radius: 20px;
      padding: 5px;
      border: 1px solid var(--border-color);
    }

    .theme-btn {
      padding: 8px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 15px;
      color: var(--text-primary);
      font-size: 14px;
      transition: background-color 0.3s;
    }

    .theme-btn.active {
      background-color: var(--header-bg);
      color: white;
    }

    .density-toggle {
      display: flex;
      gap: 5px;
      background-color: var(--bg-secondary);
      border-radius: 20px;
      padding: 5px;
      border: 1px solid var(--border-color);
    }

    .density-btn {
      padding: 8px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 15px;
      color: var(--text-primary);
      font-size: 14px;
      transition: background-color 0.3s;
    }

    .density-btn.active {
      background-color: var(--header-bg);
      color: white;
    }

    .lang-toggle {
      display: flex;
      gap: 5px;
      background-color: var(--bg-secondary);
      border-radius: 20px;
      padding: 5px;
      border: 1px solid var(--border-color);
    }

    .lang-btn {
      padding: 8px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 15px;
      color: var(--text-primary);
      font-size: 14px;
      transition: background-color 0.3s;
    }

    .lang-btn.active {
      background-color: var(--header-bg);
      color: white;
    }

    .view-toggle {
      display: none;
    }

    .btn {
      padding: 8px 15px;
      border: 1px solid var(--border-color);
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 5px;
      font-size: 14px;
    }

    .btn:hover {
      background-color: var(--bg-hover);
    }

    #favoritesToggle {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .info-section {
      background-color: var(--bg-secondary);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
    }

    .info-section p {
      margin: 5px 0;
      color: var(--text-secondary);
    }

    .info-section a {
      color: var(--link-color);
      text-decoration: none;
    }

    .info-section a:hover {
      text-decoration: underline;
    }

    .column-selector {
      margin-bottom: 15px;
      padding: 15px;
      background-color: var(--bg-secondary);
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    /* Capability Filter Styles */
    .capability-filters {
      margin-bottom: 20px;
      padding: 15px;
      background-color: var(--bg-secondary);
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    .capability-filters-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .capability-filters-title {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--text-primary);
      font-weight: 600;
    }

    .filter-count-badge {
      background-color: var(--header-bg);
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
      display: none;
    }

    .filter-count-badge.active {
      display: inline-block;
    }

    .filter-controls {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .filter-mode-toggle {
      display: flex;
      background-color: var(--bg-primary);
      border-radius: 20px;
      padding: 3px;
      border: 1px solid var(--border-color);
    }

    .filter-mode-btn {
      padding: 6px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 17px;
      color: var(--text-primary);
      font-size: 13px;
      transition: background-color 0.3s;
      white-space: nowrap;
    }

    .filter-mode-btn.active {
      background-color: var(--header-bg);
      color: white;
    }

    .clear-filters-btn {
      padding: 6px 12px;
      border: 1px solid var(--border-color);
      background-color: var(--bg-primary);
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 5px;
      font-size: 13px;
      transition: background-color 0.2s;
    }

    .clear-filters-btn:hover {
      background-color: var(--bg-hover);
    }

    .capability-checkboxes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px;
      margin-bottom: 15px;
    }

    .capability-checkbox {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background-color: var(--bg-primary);
      border: 1px solid var(--border-color);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .capability-checkbox:hover {
      background-color: var(--bg-hover);
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .capability-checkbox input {
      cursor: pointer;
      width: 18px;
      height: 18px;
    }

    .capability-checkbox label {
      cursor: pointer;
      color: var(--text-primary);
      font-size: 14px;
      user-select: none;
      flex: 1;
    }

    .capability-checkbox.checked {
      background-color: var(--header-bg);
      border-color: var(--header-bg);
    }

    .capability-checkbox.checked label {
      color: white;
    }

    .filter-presets {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid var(--border-color);
    }

    .preset-btn {
      padding: 6px 12px;
      border: 1px solid var(--border-color);
      background-color: var(--bg-primary);
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 5px;
      font-size: 13px;
      transition: all 0.2s;
    }

    .preset-btn:hover {
      background-color: var(--bg-hover);
      transform: translateY(-1px);
    }

    .filter-results-info {
      padding: 8px 12px;
      background-color: var(--bg-primary);
      border-radius: 5px;
      text-align: center;
      color: var(--text-secondary);
      font-size: 14px;
      margin-top: 10px;
      display: none;
    }

    .filter-results-info.active {
      display: block;
    }

    .column-selector h3 {
      margin-top: 0;
      color: var(--text-primary);
    }

    .column-checkboxes {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .column-checkbox {
      display: flex;
      align-items: center;
      gap: 5px;
      color: var(--text-primary);
    }

    .column-checkbox input {
      cursor: pointer;
    }

    table {
      width: 100%;
      background-color: var(--bg-primary);
    }

    th {
      background-color: var(--header-bg) !important;
      color: var(--header-text) !important;
      padding: 10px;
      text-align: left;
    }

    td {
      padding: 8px;
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      background-color: var(--bg-primary);
    }

    tr {
      background-color: var(--bg-primary) !important;
    }

    tr:nth-child(even) {
      background-color: var(--bg-secondary) !important;
    }

    tr:nth-child(even) td {
      background-color: var(--bg-secondary) !important;
    }

    tr:hover {
      background-color: var(--bg-hover) !important;
    }

    tr:hover td {
      background-color: var(--bg-hover) !important;
    }

    td a {
      color: var(--link-color);
      text-decoration: none;
    }

    td a:hover {
      text-decoration: underline;
    }

    .favorite-btn {
      cursor: pointer;
      font-size: 18px;
      background: none;
      border: none;
      padding: 0;
      margin-right: 5px;
      color: var(--text-secondary);
      transition: color 0.3s;
    }

    .favorite-btn.favorited {
      color: var(--favorite-color);
    }

    .favorite-btn:hover {
      color: var(--favorite-color);
    }

    /* Density Styles */
    table.density-compact td,
    table.density-compact th {
      padding: 4px 8px !important;
    }

    table.density-comfortable td,
    table.density-comfortable th {
      padding: 8px 10px !important;
    }

    table.density-spacious td,
    table.density-spacious th {
      padding: 12px 16px !important;
    }

    /* Mobile Card View */
    .card-view {
      display: none;
    }

    .model-card {
      background-color: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: var(--card-shadow);
    }

    .model-card-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 10px;
    }

    .model-card-title {
      font-size: 16px;
      font-weight: bold;
      color: var(--text-primary);
      flex: 1;
    }

    .model-card-title a {
      color: var(--link-color);
      text-decoration: none;
    }

    .model-card-details {
      display: grid;
      gap: 8px;
      font-size: 14px;
      color: var(--text-secondary);
    }

    .model-card-row {
      display: flex;
      justify-content: space-between;
    }

    .model-card-label {
      font-weight: 500;
    }

    .model-card-value {
      color: var(--text-primary);
    }

    /* Keyboard shortcuts modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background-color: var(--bg-primary);
      margin: 10% auto;
      padding: 20px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      width: 80%;
      max-width: 500px;
      color: var(--text-primary);
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .close {
      color: var(--text-secondary);
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover {
      color: var(--text-primary);
    }

    .shortcuts-list {
      margin-top: 20px;
    }

    .shortcut-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid var(--border-color);
    }

    .shortcut-key {
      background-color: var(--bg-secondary);
      padding: 2px 8px;
      border-radius: 4px;
      font-family: monospace;
      font-weight: bold;
    }

    /* Tooltip Styles */
    .tooltip-wrapper {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .tooltip-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: var(--text-secondary);
      color: var(--bg-primary);
      font-size: 11px;
      font-weight: bold;
      cursor: help;
      transition: background-color 0.2s;
      flex-shrink: 0;
    }

    .tooltip-icon:hover {
      background-color: var(--header-bg);
    }

    .tooltip-content {
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);
      background-color: var(--text-primary);
      color: var(--bg-primary);
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 13px;
      white-space: nowrap;
      max-width: 250px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
      z-index: 1000;
      pointer-events: none;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }

    .tooltip-content.wide {
      white-space: normal;
      text-align: center;
    }

    .tooltip-content::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: var(--text-primary);
    }

    .tooltip-wrapper:hover .tooltip-content {
      opacity: 1;
      visibility: visible;
    }

    /* Dark theme tooltip adjustments */
    [data-theme="dark"] .tooltip-content {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    [data-theme="dark"] .tooltip-content::after {
      border-top-color: var(--bg-secondary);
    }

    /* Capability checkbox with tooltip */
    .capability-label-wrapper {
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1;
    }

    .capability-label-wrapper label {
      flex: 1;
    }

    /* Filter mode tooltip */
    .filter-mode-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Preset button tooltips */
    .preset-btn-wrapper {
      position: relative;
      display: inline-block;
    }

    .preset-btn-wrapper .tooltip-content {
      bottom: calc(100% + 4px);
      white-space: normal;
      min-width: 200px;
    }

    /* Mobile tooltip adjustments */
    @media (max-width: 768px) {
      .tooltip-content {
        max-width: 200px;
        font-size: 12px;
      }
      
      /* On mobile, show tooltips on tap */
      .tooltip-wrapper.mobile-active .tooltip-content {
        opacity: 1;
        visibility: visible;
      }
    }

    /* DataTables overrides for dark mode */
    [data-theme="dark"] table.dataTable {
      background-color: var(--bg-primary) !important;
    }

    [data-theme="dark"] table.dataTable tbody tr {
      background-color: var(--bg-primary) !important;
    }

    [data-theme="dark"] table.dataTable tbody tr:nth-child(even) {
      background-color: var(--bg-secondary) !important;
    }

    [data-theme="dark"] table.dataTable tbody tr:hover {
      background-color: var(--bg-hover) !important;
    }

    [data-theme="dark"] table.dataTable tbody td {
      background-color: inherit !important;
      color: var(--text-primary) !important;
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_length,
    [data-theme="dark"] .dataTables_wrapper .dataTables_filter,
    [data-theme="dark"] .dataTables_wrapper .dataTables_info,
    [data-theme="dark"] .dataTables_wrapper .dataTables_processing,
    [data-theme="dark"] .dataTables_wrapper .dataTables_paginate {
      color: var(--text-primary);
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button {
      color: var(--text-primary) !important;
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.disabled {
      color: var(--text-secondary) !important;
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_filter input,
    [data-theme="dark"] .dataTables_wrapper .dataTables_length select {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    [data-theme="dark"] .dt-buttons .dt-button {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    [data-theme="dark"] .dt-buttons .dt-button:hover {
      background-color: var(--bg-hover);
    }

    /* Modern DataTables Button Styles */
    .dt-buttons {
      margin-bottom: 15px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .dt-button {
      padding: 8px 15px !important;
      border: 1px solid var(--border-color) !important;
      background-color: var(--bg-secondary) !important;
      color: var(--text-primary) !important;
      cursor: pointer !important;
      border-radius: 8px !important;
      font-size: 14px !important;
      font-weight: 500 !important;
      transition: all 0.2s ease !important;
      display: inline-flex !important;
      align-items: center !important;
      gap: 6px !important;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, "Microsoft YaHei", "å¾®è½¯é›…é»‘", sans-serif !important;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05) !important;
    }

    .dt-button:hover {
      background-color: var(--bg-hover) !important;
      transform: translateY(-1px) !important;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
    }

    .dt-button:active {
      transform: translateY(0) !important;
    }

    /* Add icons to buttons */
    .dt-button.buttons-copy:before {
      content: "ğŸ“‹";
      font-size: 16px;
    }

    .dt-button.buttons-csv:before {
      content: "ğŸ“„";
      font-size: 16px;
    }

    .dt-button.buttons-excel:before {
      content: "ğŸ“Š";
      font-size: 16px;
    }

    .dt-button.buttons-pdf:before {
      content: "ğŸ“‘";
      font-size: 16px;
    }

    .dt-button.buttons-print:before {
      content: "ğŸ–¨ï¸";
      font-size: 16px;
    }

    /* Button container positioning */
    .dataTables_wrapper .dt-buttons {
      float: none;
      text-align: left;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .dt-buttons {
        justify-content: center;
      }
      
      .dt-button {
        font-size: 13px !important;
        padding: 6px 12px !important;
      }
    }

    @media (max-width: 768px) {
      .view-toggle {
        display: block;
      }

      .header {
        flex-direction: column;
        align-items: stretch;
      }

      .controls {
        flex-direction: column;
        width: 100%;
      }

      .theme-toggle,
      .density-toggle,
      .lang-toggle {
        width: 100%;
        justify-content: center;
      }

      .column-selector {
        display: none;
      }
      
      .capability-filters {
        padding: 12px;
      }
      
      .capability-filters-header {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
      }
      
      .filter-controls {
        flex-direction: column;
        gap: 10px;
      }
      
      .filter-mode-toggle {
        width: 100%;
        justify-content: center;
      }
      
      .capability-checkboxes {
        grid-template-columns: 1fr;
      }

      body {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header" role="banner">
      <h1>OpenRouter æ¨¡å‹ä»·æ ¼å¯¹æ¯”å·¥å…·</h1>
      <div class="controls">
        <div class="theme-toggle">
          <button class="theme-btn" data-theme="light">â˜€ï¸ æµ…è‰²</button>
          <button class="theme-btn" data-theme="dark">ğŸŒ™ æ·±è‰²</button>
          <button class="theme-btn" data-theme="system">ğŸ–¥ï¸ è·Ÿéšç³»ç»Ÿ</button>
        </div>
        <div class="density-toggle">
          <button class="density-btn" data-density="compact">ç´§å‡‘</button>
          <button class="density-btn active" data-density="comfortable">èˆ’é€‚</button>
          <button class="density-btn" data-density="spacious">å®½æ¾</button>
        </div>
        <div class="lang-toggle">
          <button class="lang-btn active" data-lang="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
          <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
        </div>
        <button id="favoritesToggle" class="btn">
          <span>â­</span>
          <span>ä»…æ˜¾ç¤ºæ”¶è—</span>
        </button>
        <button id="viewToggle" class="btn view-toggle">ğŸ“± å¡ç‰‡è§†å›¾</button>
        <button id="helpBtn" class="btn" aria-label="æ˜¾ç¤ºé”®ç›˜å¿«æ·é”®">? å¸®åŠ©</button>
      </div>
    </header>

    <section class="info-section" role="region" aria-label="å…³äºæ­¤å·¥å…·">
      <h2 style="font-size: 1.2em; margin-top: 0; color: var(--text-primary);">å®æ—¶ AI æ¨¡å‹ä»·æ ¼æ•°æ®</h2>
      <p id="updatedDate"></p>
      <p>å¯¹æ¯”é€šè¿‡ <a href="https://openrouter.ai/" target="_blank" rel="noopener">OpenRouter</a> å¯ç”¨çš„ <strong>400+ AI è¯­è¨€æ¨¡å‹</strong> ä»·æ ¼ã€‚è¿™ä¸ªå…¨é¢çš„ä»·æ ¼å¯¹æ¯”å·¥å…·å¸®åŠ©å¼€å‘è€…å’Œä¼ä¸šæ‰¾åˆ°æœ€é€‚åˆå…¶ç‰¹å®šéœ€æ±‚çš„ç»æµé«˜æ•ˆ AI æ¨¡å‹ã€‚</p>
      <p><strong>åŠŸèƒ½ï¼š</strong> æŒ‰åç§°ã€åŠŸèƒ½ã€ä¸Šä¸‹æ–‡é•¿åº¦å’Œæˆæœ¬æœç´¢å’Œç­›é€‰æ¨¡å‹ã€‚ä»¥å¤šç§æ ¼å¼å¯¼å‡ºæ•°æ®ã€‚æ˜¾ç¤ºæ¯ç™¾ä¸‡ tokens çš„æç¤ºå’Œå®Œæˆæˆæœ¬ã€‚</p>
      <p>æ•°æ®æ¯ 12 å°æ—¶è‡ªåŠ¨æ›´æ–°ä»¥ç¡®ä¿å‡†ç¡®æ€§ã€‚æºä»£ç å¯åœ¨ <a href="https://github.com/jvrck/openrouterlist" target="_blank" rel="noopener">GitHub</a> ä¸Šè·å–ã€‚</p>
    </section>

    <!-- åŠŸèƒ½ç­›é€‰éƒ¨åˆ† -->
    <section class="capability-filters" role="region" aria-label="æŒ‰åŠŸèƒ½ç­›é€‰æ¨¡å‹">
      <div class="capability-filters-header">
        <div class="capability-filters-title">
          <span>ğŸ¯ æŒ‰åŠŸèƒ½ç­›é€‰</span>
          <span class="filter-count-badge" id="filterCountBadge">0 ä¸ªæ¿€æ´»</span>
        </div>
        <div class="filter-controls">
          <div class="filter-mode-wrapper">
            <div class="filter-mode-toggle">
              <button class="filter-mode-btn active" data-mode="all">åŒ¹é…å…¨éƒ¨</button>
              <button class="filter-mode-btn" data-mode="any">åŒ¹é…ä»»æ„</button>
            </div>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">åŒ¹é…å…¨éƒ¨ï¼šæ¨¡å‹å¿…é¡»å…·å¤‡æ‰€æœ‰é€‰å®šçš„åŠŸèƒ½<br>åŒ¹é…ä»»æ„ï¼šæ¨¡å‹éœ€è¦è‡³å°‘å…·å¤‡ä¸€ä¸ªé€‰å®šçš„åŠŸèƒ½</div>
            </div>
          </div>
          <button class="clear-filters-btn" id="clearFiltersBtn">æ¸…é™¤å…¨éƒ¨</button>
        </div>
      </div>
      
      <div class="capability-checkboxes">
        <div class="capability-checkbox" data-capability="tool_calling">
          <input type="checkbox" id="filter-tool-calling">
          <div class="capability-label-wrapper">
            <label for="filter-tool-calling">ğŸ”§ å·¥å…·è°ƒç”¨</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹å¯ä»¥è°ƒç”¨å¤–éƒ¨å‡½æ•°/API æ¥æ‰§è¡Œè®¡ç®—ã€æ•°æ®åº“æŸ¥è¯¢ç­‰æ“ä½œ</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="structured_outputs">
          <input type="checkbox" id="filter-structured-outputs">
          <div class="capability-label-wrapper">
            <label for="filter-structured-outputs">ğŸ“‹ ç»“æ„åŒ–è¾“å‡º</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹èƒ½å¤Ÿå¯é åœ°è¿”å›ç‰¹å®šæ ¼å¼çš„æ•°æ®ï¼Œå¦‚ JSONï¼Œéµå¾ªç²¾ç¡®çš„æ¨¡å¼</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="reasoning">
          <input type="checkbox" id="filter-reasoning">
          <div class="capability-label-wrapper">
            <label for="filter-reasoning">ğŸ§  æ¨ç†èƒ½åŠ›</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹å±•ç¤ºé€æ­¥æ€è€ƒè¿‡ç¨‹ï¼Œé€‚ç”¨äºå¤æ‚é—®é¢˜è§£å†³</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="response_format">
          <input type="checkbox" id="filter-response-format">
          <div class="capability-label-wrapper">
            <label for="filter-response-format">ğŸ“ å“åº”æ ¼å¼</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹æ”¯æŒè‡ªå®šä¹‰è¾“å‡ºæ ¼å¼åŒ–æŒ‡ä»¤å’Œæ¨¡æ¿</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="web_search">
          <input type="checkbox" id="filter-web-search">
          <div class="capability-label-wrapper">
            <label for="filter-web-search">ğŸŒ ç½‘ç»œæœç´¢</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹å¯ä»¥åœ¨å¯¹è¯æœŸé—´ä¸»åŠ¨æœç´¢äº’è”ç½‘è·å–æœ€æ–°ä¿¡æ¯</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="filter-presets">
        <span style="color: var(--text-secondary); font-size: 13px; margin-right: 10px;">å¿«é€Ÿç­›é€‰ï¼š</span>
        <div class="preset-btn-wrapper">
          <button class="preset-btn" data-preset="agentic">ğŸ¤– æ™ºèƒ½ä½“æ¨¡å‹</button>
          <div class="tooltip-content">ç­›é€‰å…·æœ‰å·¥å…·è°ƒç”¨ + ç»“æ„åŒ–è¾“å‡ºåŠŸèƒ½çš„æ¨¡å‹</div>
        </div>
        <div class="preset-btn-wrapper">
          <button class="preset-btn" data-preset="reasoning">ğŸ’­ æ¨ç†æ¨¡å‹</button>
          <div class="tooltip-content">ç­›é€‰å…·æœ‰é«˜çº§æ¨ç†èƒ½åŠ›çš„æ¨¡å‹</div>
        </div>
        <div class="preset-btn-wrapper">
          <button class="preset-btn" data-preset="structured">ğŸ“Š ç»“æ„åŒ–è¾“å‡º</button>
          <div class="tooltip-content">ç­›é€‰æ”¯æŒç»“æ„åŒ–è¾“å‡º + å“åº”æ ¼å¼çš„æ¨¡å‹</div>
        </div>
        <div class="preset-btn-wrapper">
          <button class="preset-btn" data-preset="web">ğŸ” ç½‘ç»œå¯ç”¨</button>
          <div class="tooltip-content">ç­›é€‰å…·æœ‰ç½‘ç»œæœç´¢åŠŸèƒ½çš„æ¨¡å‹</div>
        </div>
      </div>
      
      <div class="filter-results-info" id="filterResultsInfo">
        <span id="filterResultsText">0 ä¸ªæ¨¡å‹åŒ¹é…æ‚¨çš„ç­›é€‰æ¡ä»¶</span>
      </div>
    </section>

    <section class="column-selector" role="region" aria-label="åˆ—å¯è§æ€§æ§åˆ¶">
      <h3>æ˜¾ç¤º/éšè—åˆ—ï¼š</h3>
      <div class="column-checkboxes">
        <label class="column-checkbox">
          <input type="checkbox" data-column="0" checked> æ¨¡å‹ ID
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="1" checked> æ¨¡å‹åç§°
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="2" checked> åˆ›å»ºæ—¶é—´
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="3" checked> ä¸Šä¸‹æ–‡é•¿åº¦
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="4" checked> æç¤ºæˆæœ¬
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="5" checked> å®Œæˆæˆæœ¬
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="6" checked> å·¥å…·è°ƒç”¨
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="7" checked> ç»“æ„åŒ–è¾“å‡º
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="8" checked> æ¨ç†èƒ½åŠ›
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="9" checked> å“åº”æ ¼å¼
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="10" checked> ç½‘ç»œæœç´¢
        </label>
      </div>
    </section>

    <main class="table-view" role="main">
      <table id="csvTable" class="display" style="width:100%">
        <thead>
          <tr id="tableHeaders"></tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </main>

    <div class="card-view" id="cardView" role="region" aria-label="æ¨¡å‹çš„å¡ç‰‡è§†å›¾"></div>
    
    <footer style="margin-top: 40px; padding: 20px 0; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-secondary);">
      <p>OpenRouterList - å…è´¹ AI æ¨¡å‹ä»·æ ¼å¯¹æ¯”å·¥å…· | æ¯ 12 å°æ—¶æ›´æ–°</p>
      <p>
        <a href="https://github.com/jvrck/openrouterlist" target="_blank" rel="noopener" style="color: var(--link-color);">GitHub</a> | 
        <a href="https://openrouter.ai/" target="_blank" rel="noopener" style="color: var(--link-color);">OpenRouter API</a> | 
        <a href="https://openrouter.ai/docs" target="_blank" rel="noopener" style="color: var(--link-color);">API æ–‡æ¡£</a>
      </p>
    </footer>
  </div>

  <!-- é”®ç›˜å¿«æ·é”®æ¨¡æ€æ¡† -->
  <div id="shortcutsModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>é”®ç›˜å¿«æ·é”®</h2>
      <div class="shortcuts-list">
        <div class="shortcut-item">
          <span>èšç„¦æœç´¢</span>
          <span class="shortcut-key">/</span>
        </div>
        <div class="shortcut-item">
          <span>åˆ‡æ¢æ”¶è—</span>
          <span class="shortcut-key">f</span>
        </div>
        <div class="shortcut-item">
          <span>æ›´æ”¹ä¸»é¢˜</span>
          <span class="shortcut-key">t</span>
        </div>
        <div class="shortcut-item">
          <span>æ›´æ”¹å¯†åº¦</span>
          <span class="shortcut-key">d</span>
        </div>
        <div class="shortcut-item">
          <span>åˆ‡æ¢è§†å›¾ï¼ˆç§»åŠ¨ç«¯ï¼‰</span>
          <span class="shortcut-key">v</span>
        </div>
        <div class="shortcut-item">
          <span>å¯¼å‡ºä¸º CSV</span>
          <span class="shortcut-key">e</span>
        </div>
        <div class="shortcut-item">
          <span>èšç„¦åŠŸèƒ½ç­›é€‰</span>
          <span class="shortcut-key">c</span>
        </div>
        <div class="shortcut-item">
          <span>åˆ‡æ¢ç­›é€‰æ¨¡å¼</span>
          <span class="shortcut-key">m</span>
        </div>
        <div class="shortcut-item">
          <span>æ¸…é™¤æ‰€æœ‰ç­›é€‰</span>
          <span class="shortcut-key">x</span>
        </div>
        <div class="shortcut-item">
          <span>æ˜¾ç¤ºæ­¤å¸®åŠ©</span>
          <span class="shortcut-key">?</span>
        </div>
        <div class="shortcut-item">
          <span>å…³é—­å¯¹è¯æ¡†</span>
          <span class="shortcut-key">Esc</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // å…¨å±€å˜é‡
    let dataTable;
    let allData = [];
    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
    let showFavoritesOnly = false;
    let currentTheme = localStorage.getItem('theme') || 'system';
    let currentDensity = localStorage.getItem('density') || 'comfortable';
    let currentLang = localStorage.getItem('language') || 'zh';
    let columnVisibility = JSON.parse(localStorage.getItem('columnVisibility')) || {};
    let isCardView = false;
    
    // åŠŸèƒ½ç­›é€‰å˜é‡
    let activeCapabilityFilters = [];
    let capabilityFilterMode = 'all'; // 'all' æˆ– 'any'
    let isCapabilityFilterActive = false;

    // è¯­è¨€ç®¡ç†
    function switchLanguage(lang) {
      if (lang === 'en') {
        // åˆ‡æ¢åˆ°è‹±æ–‡ç‰ˆæœ¬
        window.location.href = 'index_en_backup.html';
      } else {
        // åˆ‡æ¢åˆ°ä¸­æ–‡ç‰ˆæœ¬
        window.location.href = 'index.html';
      }
    }

    // ä¸»é¢˜ç®¡ç†
    function applyTheme(theme) {
      if (theme === 'system') {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
      } else {
        document.documentElement.setAttribute('data-theme', theme);
      }
      
      $('.theme-btn').removeClass('active');
      $(`.theme-btn[data-theme="${theme}"]`).addClass('active');
      localStorage.setItem('theme', theme);
      currentTheme = theme;
    }

    // å¯†åº¦ç®¡ç†
    function applyDensity(density) {
      $('#csvTable').removeClass('density-compact density-comfortable density-spacious');
      $('#csvTable').addClass(`density-${density}`);
      
      $('.density-btn').removeClass('active');
      $(`.density-btn[data-density="${density}"]`).addClass('active');
      localStorage.setItem('density', density);
      currentDensity = density;
    }

    // æ”¶è—ç®¡ç†
    function toggleFavorite(modelId) {
      const index = favorites.indexOf(modelId);
      if (index > -1) {
        favorites.splice(index, 1);
      } else {
        favorites.push(modelId);
      }
      localStorage.setItem('favorites', JSON.stringify(favorites));
      updateFavoriteButtons();
      
      if (showFavoritesOnly) {
        filterFavorites();
      }
    }

    function updateFavoriteButtons() {
      $('.favorite-btn').each(function() {
        const modelId = $(this).data('model-id');
        if (favorites.includes(modelId)) {
          $(this).addClass('favorited').html('â˜…');
        } else {
          $(this).removeClass('favorited').html('â˜†');
        }
      });
    }

    function filterFavorites() {
      if (dataTable) {
        if (showFavoritesOnly) {
          dataTable.column(0).search(favorites.join('|'), true, false).draw();
        } else {
          dataTable.column(0).search('').draw();
        }
      }
      
      if (isCardView) {
        renderCardView();
      }
    }

    // åŠŸèƒ½ç­›é€‰å‡½æ•°
    function updateCapabilityFilters() {
      activeCapabilityFilters = [];
      $('.capability-checkbox input:checked').each(function() {
        const capability = $(this).parent().data('capability');
        activeCapabilityFilters.push(capability);
      });
      
      isCapabilityFilterActive = activeCapabilityFilters.length > 0;
      
      // æ›´æ–° UI æŒ‡ç¤ºå™¨
      updateFilterIndicators();
      
      // åº”ç”¨ç­›é€‰
      applyCapabilityFilters();
    }
    
    function updateFilterIndicators() {
      const count = activeCapabilityFilters.length;
      
      if (count > 0) {
        $('#filterCountBadge').text(`${count} ä¸ªæ¿€æ´»`).addClass('active');
        $('#filterResultsInfo').addClass('active');
      } else {
        $('#filterCountBadge').removeClass('active');
        $('#filterResultsInfo').removeClass('active');
      }
      
      // æ›´æ–°å¤é€‰æ¡†æ ·å¼
      $('.capability-checkbox').each(function() {
        const isChecked = $(this).find('input').prop('checked');
        $(this).toggleClass('checked', isChecked);
      });
    }
    
    function applyCapabilityFilters() {
      if (dataTable) {
        dataTable.draw();
      }
      
      if (isCardView) {
        renderCardView();
      }
      
      updateFilterResultsCount();
    }
    
    function updateFilterResultsCount() {
      if (!isCapabilityFilterActive) return;
      
      let filteredCount = 0;
      
      if (dataTable) {
        filteredCount = dataTable.rows({ search: 'applied' }).count();
      } else {
        filteredCount = getFilteredData().length;
      }
      
      $('#filterResultsText').text(`${filteredCount} ä¸ªæ¨¡å‹åŒ¹é…æ‚¨çš„ç­›é€‰æ¡ä»¶`);
    }
    
    function getFilteredData() {
      let data = showFavoritesOnly ? 
        allData.filter(row => favorites.includes(row.id)) : 
        allData;
      
      if (!isCapabilityFilterActive) return data;
      
      return data.filter(row => {
        if (capabilityFilterMode === 'all') {
          // åŒ¹é…æ‰€æœ‰é€‰å®šçš„åŠŸèƒ½
          return activeCapabilityFilters.every(cap => row[cap] === 'Yes');
        } else {
          // åŒ¹é…ä»»æ„é€‰å®šçš„åŠŸèƒ½
          return activeCapabilityFilters.some(cap => row[cap] === 'Yes');
        }
      });
    }
    
    function clearCapabilityFilters() {
      $('.capability-checkbox input').prop('checked', false);
      updateCapabilityFilters();
    }
    
    function applyPresetFilter(preset) {
      clearCapabilityFilters();
      
      switch(preset) {
        case 'agentic':
          $('#filter-tool-calling').prop('checked', true);
          $('#filter-structured-outputs').prop('checked', true);
          break;
        case 'reasoning':
          $('#filter-reasoning').prop('checked', true);
          break;
        case 'structured':
          $('#filter-structured-outputs').prop('checked', true);
          $('#filter-response-format').prop('checked', true);
          break;
        case 'web':
          $('#filter-web-search').prop('checked', true);
          break;
      }
      
      updateCapabilityFilters();
    }

    // æ•°æ®è·å–
    async function fetchData() {
      try {
        // ä½¿ç”¨ GitHub ä¸Šçš„å…¬å¼€æ•°æ®æº
        const response = await fetch('https://raw.githubusercontent.com/jvrck/openrouterlist/main/data/models.json');
        if (!response.ok) {
          throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
        }
        const data = await response.json();
        allData = data;
        
        // æ›´æ–°æ—¶é—´æˆ³
        const updatedDate = new Date().toLocaleString('zh-CN');
        $('#updatedDate').text(`æœ€åæ›´æ–°ï¼š${updatedDate}`);
        
        initializeTable();
      } catch (error) {
        console.error('è·å–æ•°æ®å¤±è´¥:', error);
        // ä½¿ç”¨ç¤ºä¾‹æ•°æ®ä½œä¸ºåå¤‡
        useSampleData();
      }
    }

    // ç¤ºä¾‹æ•°æ®
    function useSampleData() {
      allData = [
        {
          id: 'openai/gpt-4o',
          name: 'GPT-4o',
          created: '2024-05-13',
          context_length: 128000,
          pricing: { prompt: 0.005, completion: 0.015 },
          tool_calling: 'Yes',
          structured_outputs: 'Yes',
          reasoning: 'Yes',
          response_format: 'Yes',
          web_search: 'No'
        },
        {
          id: 'anthropic/claude-3-5-sonnet',
          name: 'Claude 3.5 Sonnet',
          created: '2024-06-20',
          context_length: 200000,
          pricing: { prompt: 0.003, completion: 0.015 },
          tool_calling: 'Yes',
          structured_outputs: 'Yes',
          reasoning: 'Yes',
          response_format: 'Yes',
          web_search: 'No'
        },
        {
          id: 'google/gemini-pro',
          name: 'Gemini Pro',
          created: '2023-12-06',
          context_length: 32768,
          pricing: { prompt: 0.0005, completion: 0.0015 },
          tool_calling: 'Yes',
          structured_outputs: 'No',
          reasoning: 'No',
          response_format: 'Yes',
          web_search: 'Yes'
        }
      ];
      
      const updatedDate = new Date().toLocaleString('zh-CN');
      $('#updatedDate').text(`æœ€åæ›´æ–°ï¼š${updatedDate}ï¼ˆç¤ºä¾‹æ•°æ®ï¼‰`);
      
      initializeTable();
    }

    // åˆå§‹åŒ–è¡¨æ ¼
    function initializeTable() {
      if ($.fn.DataTable.isDataTable('#csvTable')) {
        $('#csvTable').DataTable().destroy();
      }
      
      // å‡†å¤‡è¡¨æ ¼æ•°æ®
      const tableData = allData.map(model => ({
        favorite: `<button class="favorite-btn" data-model-id="${model.id}">${favorites.includes(model.id) ? 'â˜…' : 'â˜†'}</button>`,
        id: `<a href="https://openrouter.ai/models/${model.id}" target="_blank">${model.id}</a>`,
        name: model.name,
        created: model.created,
        context_length: model.context_length ? model.context_length.toLocaleString() : 'N/A',
        prompt_cost: model.pricing?.prompt ? `$${model.pricing.prompt.toFixed(4)}` : 'N/A',
        completion_cost: model.pricing?.completion ? `$${model.pricing.completion.toFixed(4)}` : 'N/A',
        tool_calling: model.tool_calling || 'No',
        structured_outputs: model.structured_outputs || 'No',
        reasoning: model.reasoning || 'No',
        response_format: model.response_format || 'No',
        web_search: model.web_search || 'No'
      }));
      
      // åˆ›å»ºè¡¨æ ¼å¤´éƒ¨
      const headers = [
        'æ”¶è—', 'æ¨¡å‹ ID', 'æ¨¡å‹åç§°', 'åˆ›å»ºæ—¶é—´', 'ä¸Šä¸‹æ–‡é•¿åº¦', 
        'æç¤ºæˆæœ¬', 'å®Œæˆæˆæœ¬', 'å·¥å…·è°ƒç”¨', 'ç»“æ„åŒ–è¾“å‡º', 
        'æ¨ç†èƒ½åŠ›', 'å“åº”æ ¼å¼', 'ç½‘ç»œæœç´¢'
      ];
      
      const headerHtml = headers.map((header, index) => `<th>${header}</th>`).join('');
      $('#tableHeaders').html(headerHtml);
      
      // åˆ›å»ºè¡¨æ ¼ä¸»ä½“
      const bodyHtml = tableData.map(row => 
        `<tr>${Object.values(row).map(cell => `<td>${cell}</td>`).join('')}</tr>`
      ).join('');
      $('#tableBody').html(bodyHtml);
      
      // åˆå§‹åŒ– DataTable
      dataTable = $('#csvTable').DataTable({
        pageLength: 25,
        responsive: true,
        language: {
          search: "æœç´¢ï¼š",
          lengthMenu: "æ˜¾ç¤º _MENU_ æ¡è®°å½•",
          info: "æ˜¾ç¤ºç¬¬ _START_ è‡³ _END_ æ¡è®°å½•ï¼Œå…± _TOTAL_ æ¡",
          infoEmpty: "æ˜¾ç¤ºç¬¬ 0 è‡³ 0 æ¡è®°å½•ï¼Œå…± 0 æ¡",
          infoFiltered: "ï¼ˆä» _MAX_ æ¡è®°å½•ä¸­è¿‡æ»¤ï¼‰",
          paginate: {
            first: "é¦–é¡µ",
            last: "æœ«é¡µ",
            next: "ä¸‹ä¸€é¡µ",
            previous: "ä¸Šä¸€é¡µ"
          }
        },
        dom: 'Bfrtip',
        buttons: [
          { extend: 'copy', text: 'å¤åˆ¶' },
          { extend: 'csv', text: 'CSV' },
          { extend: 'excel', text: 'Excel' },
          { extend: 'pdf', text: 'PDF' },
          { extend: 'print', text: 'æ‰“å°' }
        ],
        initComplete: function() {
          updateFavoriteButtons();
          updateFilterIndicators();
        }
      });
      
      // åº”ç”¨ä¿å­˜çš„åˆ—å¯è§æ€§
      Object.keys(columnVisibility).forEach(columnIndex => {
        const isVisible = columnVisibility[columnIndex];
        if (!isVisible) {
          dataTable.column(parseInt(columnIndex)).visible(false);
        }
      });
    }

    // å¡ç‰‡è§†å›¾
    function renderCardView() {
      const filteredData = getFilteredData();
      
      const cardHtml = filteredData.map(model => `
        <div class="model-card">
          <div class="model-card-header">
            <div class="model-card-title">
              <button class="favorite-btn" data-model-id="${model.id}">${favorites.includes(model.id) ? 'â˜…' : 'â˜†'}</button>
              <a href="https://openrouter.ai/models/${model.id}" target="_blank">${model.name}</a>
            </div>
          </div>
          <div class="model-card-details">
            <div class="model-card-row">
              <span class="model-card-label">æ¨¡å‹ IDï¼š</span>
              <span class="model-card-value">${model.id}</span>
            </div>
            <div class="model-card-row">
              <span class="model-card-label">åˆ›å»ºæ—¶é—´ï¼š</span>
              <span class="model-card-value">${model.created || 'N/A'}</span>
            </div>
            <div class="model-card-row">
              <span class="model-card-label">ä¸Šä¸‹æ–‡é•¿åº¦ï¼š</span>
              <span class="model-card-value">${model.context_length ? model.context_length.toLocaleString() : 'N/A'}</span>
            </div>
            <div class="model-card-row">
              <span class="model-card-label">æç¤ºæˆæœ¬ï¼š</span>
              <span class="model-card-value">${model.pricing?.prompt ? `$${model.pricing.prompt.toFixed(4)}` : 'N/A'}</span>
            </div>
            <div class="model-card-row">
              <span class="model-card-label">å®Œæˆæˆæœ¬ï¼š</span>
              <span class="model-card-value">${model.pricing?.completion ? `$${model.pricing.completion.toFixed(4)}` : 'N/A'}</span>
            </div>
            <div class="model-card-row">
              <span class="model-card-label">å·¥å…·è°ƒç”¨ï¼š</span>
              <span class="model-card-value">${model.tool_calling === 'Yes' ? 'âœ…' : 'âŒ'}</span>
            </div>
            <div class="model-card-row">
              <span class="model-card-label">ç»“æ„åŒ–è¾“å‡ºï¼š</span>
              <span class="model-card-value">${model.structured_outputs === 'Yes' ? 'âœ…' : 'âŒ'}</span>
            </div>
            <div class="model-card-row">
              <span class="model-card-label">æ¨ç†èƒ½åŠ›ï¼š</span>
              <span class="model-card-value">${model.reasoning === 'Yes' ? 'âœ…' : 'âŒ'}</span>
            </div>
          </div>
        </div>
      `).join('');
      
      $('#cardView').html(cardHtml);
      updateFavoriteButtons();
    }

    // åˆ‡æ¢è§†å›¾
    function toggleView() {
      isCardView = !isCardView;
      
      if (isCardView) {
        $('.table-view').hide();
        $('#cardView').show();
        $('#viewToggle').html('ğŸ“Š è¡¨æ ¼è§†å›¾').addClass('active');
        renderCardView();
      } else {
        $('.table-view').show();
        $('#cardView').hide();
        $('#viewToggle').html('ğŸ“± å¡ç‰‡è§†å›¾').removeClass('active');
      }
    }

    // DataTable è‡ªå®šä¹‰ç­›é€‰å‡½æ•°
    $.fn.dataTable.ext.search.push(
      function(settings, data, dataIndex) {
        if (!isCapabilityFilterActive) return true;
        
        const modelId = data[1]; // æ¨¡å‹ ID åˆ—
        const model = allData.find(m => m.id === modelId);
        
        if (!model) return true;
        
        if (capabilityFilterMode === 'all') {
          // åŒ¹é…æ‰€æœ‰é€‰å®šçš„åŠŸèƒ½
          return activeCapabilityFilters.every(cap => model[cap] === 'Yes');
        } else {
          // åŒ¹é…ä»»æ„é€‰å®šçš„åŠŸèƒ½
          return activeCapabilityFilters.some(cap => model[cap] === 'Yes');
        }
      }
    );

    // äº‹ä»¶å¤„ç†
    $(document).ready(function() {
      // åº”ç”¨ä¿å­˜çš„ä¸»é¢˜
      applyTheme(currentTheme);
      applyDensity(currentDensity);
      
      // è·å–æ•°æ®
      fetchData();
      
      // ä¸»é¢˜åˆ‡æ¢
      $('.theme-btn').click(function() {
        applyTheme($(this).data('theme'));
      });
      
      // å¯†åº¦åˆ‡æ¢
      $('.density-btn').click(function() {
        applyDensity($(this).data('density'));
      });
      
      // è¯­è¨€åˆ‡æ¢
      $('.lang-btn').click(function() {
        const lang = $(this).data('lang');
        switchLanguage(lang);
      });
      
      // æ”¶è—åˆ‡æ¢
      $(document).on('click', '.favorite-btn', function() {
        toggleFavorite($(this).data('model-id'));
      });
      
      // æ”¶è—ç­›é€‰
      $('#favoritesToggle').click(function() {
        showFavoritesOnly = !showFavoritesOnly;
        $(this).toggleClass('active');
        filterFavorites();
      });
      
      // è§†å›¾åˆ‡æ¢
      $('#viewToggle').click(function() {
        toggleView();
      });
      
      // åŠŸèƒ½ç­›é€‰
      $('.capability-checkbox input').change(function() {
        updateCapabilityFilters();
      });
      
      // é¢„è®¾ç­›é€‰
      $('.preset-btn').click(function() {
        applyPresetFilter($(this).data('preset'));
      });
      
      // æ¸…é™¤ç­›é€‰
      $('#clearFiltersBtn').click(function() {
        clearCapabilityFilters();
      });
      
      // ç­›é€‰æ¨¡å¼åˆ‡æ¢
      $('.filter-mode-btn').click(function() {
        capabilityFilterMode = $(this).data('mode');
        $('.filter-mode-btn').removeClass('active');
        $(this).addClass('active');
        applyCapabilityFilters();
      });
      
      // åˆ—å¯è§æ€§æ§åˆ¶
      $('.column-checkbox input').change(function() {
        const columnIndex = $(this).data('column');
        const isVisible = $(this).prop('checked');
        
        if (dataTable) {
          dataTable.column(columnIndex).visible(isVisible);
        }
        
        columnVisibility[columnIndex] = isVisible;
        localStorage.setItem('columnVisibility', JSON.stringify(columnVisibility));
      });
      
      // å¸®åŠ©æ¨¡æ€æ¡†
      $('#helpBtn').click(function() {
        $('#shortcutsModal').show();
      });
      
      $('.close').click(function() {
        $('#shortcutsModal').hide();
      });
      
      $(window).click(function(event) {
        if ($(event.target).is('.modal')) {
          $('.modal').hide();
        }
      });
      
      // é”®ç›˜å¿«æ·é”®
      $(document).keydown(function(e) {
        // é¿å…åœ¨è¾“å…¥æ¡†ä¸­è§¦å‘å¿«æ·é”®
        if ($(e.target).is('input, textarea')) return;
        
        switch(e.key) {
          case '/':
            e.preventDefault();
            $('.dataTables_filter input').focus();
            break;
          case 'f':
            $('#favoritesToggle').click();
            break;
          case 't':
            const currentThemeBtn = $('.theme-btn.active');
            const nextThemeBtn = currentThemeBtn.next().length ? currentThemeBtn.next() : $('.theme-btn').first();
            nextThemeBtn.click();
            break;
          case 'd':
            const currentDensityBtn = $('.density-btn.active');
            const nextDensityBtn = currentDensityBtn.next().length ? currentDensityBtn.next() : $('.density-btn').first();
            nextDensityBtn.click();
            break;
          case 'v':
            if ($(window).width() <= 768) {
              $('#viewToggle').click();
            }
            break;
          case 'e':
            if (dataTable) {
              $('.dt-button.buttons-csv').click();
            }
            break;
          case 'c':
            $('.capability-filters')[0].scrollIntoView();
            break;
          case 'm':
            $('.filter-mode-btn').click();
            break;
          case 'x':
            $('#clearFiltersBtn').click();
            break;
          case '?':
            $('#helpBtn').click();
            break;
          case 'Escape':
            $('.modal').hide();
            break;
        }
      });
      
      // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function() {
        if (currentTheme === 'system') {
          applyTheme('system');
        }
      });
      
      // ç§»åŠ¨ç«¯å·¥å…·æç¤ºå¤„ç†
      if ($(window).width() <= 768) {
        $('.tooltip-wrapper').on('touchstart', function() {
          $(this).addClass('mobile-active');
        });
        
        $('.tooltip-wrapper').on('touchend', function() {
          setTimeout(() => {
            $(this).removeClass('mobile-active');
          }, 2000);
        });
      }
    });
  </script>
</body>
</html>